---
- name: Bootstrap New Server
  hosts: all
  become: true
  vars:
    # Setup variables for bootstrap (override in inventory/group_vars usually)
    sysadmin_user: sysadmin

  tasks:
    - name: Import System Essentials
      ansible.builtin.import_role:
        name: system-essentials

    - name: Import Security Hardening
      ansible.builtin.import_role:
        name: security-hardening
      vars:
        # Enable root lock only after user is created and tested!
        lock_root: false

    - name: Import Security Hardening (Redundant?)
      ansible.builtin.import_role:
        name: security-hardening
